import{a as W,b as z,c as L,d as T,e as P,f as D,j as V,k as q,l as B}from"./chunk-AIAPEMAR.js";import{$a as N,Aa as d,Ca as v,F as g,H as C,O as S,Sa as E,V as o,_a as k,ba as c,ea as f,ga as _,ib as R,ka as h,oa as e,pa as i,qa as y,sa as b,ta as w,ua as a,va as M,ya as m,za as s}from"./chunk-GHCAZUPV.js";function F(r,x){if(r&1&&(e(0,"div",7)(1,"p",20),a(2),i()()),r&2){let l=w();o(2),M(l.error())}}function A(r,x){r&1&&(S(),e(0,"svg",21),y(1,"circle",22)(2,"path",23),i(),a(3," Creating account... "))}function j(r,x){r&1&&a(0," Create account ")}var U=(()=>{class r{constructor(){this.authService=g(R),this.router=g(k),this.name="",this.email="",this.password="",this.organizationName="",this.loading=c(!1),this.error=c(null)}onSubmit(){if(!this.name||!this.email||!this.password){this.error.set("Please fill in all required fields");return}if(this.password.length<6){this.error.set("Password must be at least 6 characters");return}this.loading.set(!0),this.error.set(null),this.authService.register(this.email,this.password,this.name,this.organizationName||void 0).subscribe({next:()=>{this.router.navigate(["/dashboard"])},error:l=>{this.loading.set(!1),this.error.set(l.error?.message||"Registration failed")}})}static{this.\u0275fac=function(u){return new(u||r)}}static{this.\u0275cmp=C({type:r,selectors:[["app-register"]],standalone:!0,features:[v],decls:39,vars:7,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gradient-to-br","from-surface-50","via-primary-50/30","to-surface-100","dark:from-surface-900","dark:via-surface-800","dark:to-surface-900","p-4"],[1,"w-full","max-w-md"],[1,"text-center","mb-8"],["src","assets/logo.png","alt","Leo Duong",1,"h-24","mx-auto","mb-4"],[1,"text-2xl","font-display","font-bold","text-surface-900","dark:text-white"],[1,"text-surface-500","dark:text-surface-400","mt-2"],[1,"card"],[1,"mb-6","p-4","rounded-xl","bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800"],[1,"space-y-5",3,"ngSubmit"],[1,"block","text-sm","font-medium","text-surface-700","dark:text-surface-300","mb-2"],["type","text","name","name","placeholder","John Doe","required","",1,"input",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","YourEmail@email.com","required","",1,"input",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","","minlength","6",1,"input",3,"ngModelChange","ngModel"],[1,"text-surface-400","font-normal"],["type","text","name","organizationName","placeholder","Leo Duong Inc",1,"input",3,"ngModelChange","ngModel"],[1,"text-xs","text-surface-400","mt-1.5"],["type","submit",1,"btn","btn-primary","w-full",3,"disabled"],[1,"mt-6","text-center"],[1,"text-sm","text-surface-500","dark:text-surface-400"],["routerLink","/login",1,"text-primary-600","hover:text-primary-500","font-medium","ml-1"],[1,"text-sm","text-red-600","dark:text-red-400"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-5","w-5"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z",1,"opacity-75"]],template:function(u,t){u&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),y(3,"img",3),e(4,"h1",4),a(5," Create Account "),i(),e(6,"p",5),a(7," Start managing your tasks today "),i()(),e(8,"div",6),f(9,F,3,1,"div",7),e(10,"form",8),b("ngSubmit",function(){return t.onSubmit()}),e(11,"div")(12,"label",9),a(13,"Full Name"),i(),e(14,"input",10),d("ngModelChange",function(n){return s(t.name,n)||(t.name=n),n}),i()(),e(15,"div")(16,"label",9),a(17,"Email"),i(),e(18,"input",11),d("ngModelChange",function(n){return s(t.email,n)||(t.email=n),n}),i()(),e(19,"div")(20,"label",9),a(21,"Password"),i(),e(22,"input",12),d("ngModelChange",function(n){return s(t.password,n)||(t.password=n),n}),i()(),e(23,"div")(24,"label",9),a(25," Organization Name "),e(26,"span",13),a(27,"(optional)"),i()(),e(28,"input",14),d("ngModelChange",function(n){return s(t.organizationName,n)||(t.organizationName=n),n}),i(),e(29,"p",15),a(30," Create a new organization or leave empty to join default "),i()(),e(31,"button",16),f(32,A,4,0)(33,j,1,0),i()(),e(34,"div",17)(35,"p",18),a(36," Already have an account? "),e(37,"a",19),a(38," Sign in "),i()()()()()()),u&2&&(o(9),h(9,t.error()?9:-1),o(5),m("ngModel",t.name),o(4),m("ngModel",t.email),o(4),m("ngModel",t.password),o(6),m("ngModel",t.organizationName),o(3),_("disabled",t.loading()),o(),h(32,t.loading()?32:33))},dependencies:[E,B,D,W,z,L,V,q,P,T,N],encapsulation:2})}}return r})();export{U as RegisterComponent};
